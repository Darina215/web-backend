{% extends "base.html" %} 

{# номер лабораторной работы: #}
{% block lab %}Лабораторная работа 2, Список всех цветов{% endblock %}

{# основной контент: #}
{% block main %}
<body>
  <h1>Список всех цветов</h1>

  <p>Всего цветов: {{ flower_list|length }}</p>

  {% if flower_list %}
    <table>
      <thead>
        <tr><th>#</th><th>Название</th><th>Цена</th><th>Действия</th></tr>
      </thead>
      <tbody>
        {% for flower in flower_list %}
          <tr>
            <td>{{ loop.index0 }}</td>
            <td><a href="{{ url_for('lab2.flower_detail', flower_id=loop.index0) }}">{{ flower.name }}</a></td>
            <td>{{ flower.price }}</td>
            <td class="actions">
              <a href="{{ url_for('lab2.delete_flower', flower_id=loop.index0) }}">удалить</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p><em>Список пуст.</em></p>
  {% endif %}

  <hr>

  <h3>Добавить новый цветок</h3>
  <form class="add" action="{{ url_for('lab2.add_flower') }}" method="post">
    <label>Название: <input type="text" name="name" required></label>
    <label> Цена: <input type="number" name="price" step="1" value="0" style="width:90px;"></label>
    <button type="submit">Добавить</button>
  </form>

  <p style="margin-top:12px;">
    <a href="{{ url_for('lab2.clear_flowers') }}" onclick="return confirm('Удалить все цветы?');">Удалить все цветы</a>
  </p>
{% endblock %}
