{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <h1>Статьи</h1>

    {% if no_articles %}
        <p>У вас пока нет статей.</p>
    {% else %}
        {% for article in articles %}
            <div style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; {% if article['is_favorite'] %}background-color: #fff9e6;{% endif %}">
                <h2>
                    {{ article['title'] }}
                    {% if article['is_favorite'] %}
                        <span style="color: gold;">⭐</span>
                    {% endif %}
                    {% if article['is_public'] %}
                        <span style="color: green; font-size: 0.8em;">(Публичная)</span>
                    {% endif %}
                </h2>
                <p>{{ article['article_text'] }}</p>
                <div>
                    <a href="{{ url_for('lab5.edit_article', article_id=article['id']) }}">Редактировать</a>
                    <a href="{{ url_for('lab5.delete_article', article_id=article['id']) }}" 
                    onclick="return confirm('Вы уверены, что хотите удалить эту статью?')"
                    style="color: red; margin-left: 10px;">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% endif %}
    <br>
    <a href="{{ url_for('lab5.create') }}">Создать новую статью</a>
    <br>
    <a href="{{ url_for('lab5.lab') }}">На главную</a>
{% endblock %}